{"version":3,"sources":["../../app/models/sensorModel.js"],"names":["Schema","SensorSchema","id","type","String","required","name","position","lat","Number","lng","last_connection","Date","default","now","last_alert","toObject","virtuals","getters","toJSON","virtual","get","fecha","getDate","sensorModel","model"],"mappings":";;;;;;;AAAA;;;;;;AACA,IAAMA,SAAS,mBAASA,MAAxB;;AAEA,IAAMC,eAAeD,OAAO;AAC1BE,MAAI,EAACC,MAAMC,MAAP,EAAeC,UAAU,IAAzB,EADsB;AAE1BC,QAAM,EAACH,MAAMC,MAAP,EAAeC,UAAU,IAAzB,EAFoB;AAG1BE,YAAU;AACRC,SAAK,EAACL,MAAMM,MAAP,EAAeJ,UAAU,IAAzB,EADG;AAERK,SAAK,EAACP,MAAMM,MAAP,EAAeJ,UAAU,IAAzB;AAFG,GAHgB;AAO1BM,mBAAiB,EAACR,MAAMS,IAAP,EAAaP,UAAU,KAAvB,EAA8BQ,SAASD,KAAKE,GAA5C,EAPS;AAQ1BC,cAAY,EAACZ,MAAMS,IAAP,EAAaP,UAAU,KAAvB,EAA8BQ,SAASD,KAAKE,GAA5C;AARc,CAAP,EAUrB;AACEE,YAAU,EAACC,UAAU,IAAX,EAAiBC,SAAS,IAA1B,EADZ;AAEEC,UAAQ,EAACF,UAAU,IAAX,EAAiBC,SAAS,IAA1B;AAFV,CAVqB,CAArB;;AAeAjB,aAAamB,OAAb,CAAqB,sBAArB,EAA6CC,GAA7C,CAAiD,YAAW;AAC1D,MAAIC,QAAQ,IAAIV,IAAJ,CAAS,KAAKD,eAAd,CAAZ;AACA,SAAOW,MAAMC,OAAb;AACD,CAHD;;AAKO,IAAMC,oCAAc,mBAASC,KAAT,CAAe,QAAf,EAAyBxB,YAAzB,CAApB","file":"sensorModel.js","sourcesContent":["import mongoose from 'mongoose'\nconst Schema = mongoose.Schema\n\nconst SensorSchema = Schema({\n  id: {type: String, required: true},\n  name: {type: String, required: true},\n  position: {\n    lat: {type: Number, required: true},\n    lng: {type: Number, required: true}\n  },\n  last_connection: {type: Date, required: false, default: Date.now},\n  last_alert: {type: Date, required: false, default: Date.now}\n},\n{\n  toObject: {virtuals: true, getters: true},\n  toJSON: {virtuals: true, getters: true} \n})\n\nSensorSchema.virtual('date_last_connection').get(function() {\n  let fecha = new Date(this.last_connection)\n  return fecha.getDate\n})\n\nexport const sensorModel = mongoose.model('Sensor', SensorSchema)\n"]}